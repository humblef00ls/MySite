<script>
	
	import LeftPanel from './components/LeftPanel.svelte'
    import RightPanel from "./components/RightPanel.svelte";
	import BottomPanel from "./components/BottomPanel.svelte";
	    import { quintInOut } from 'svelte/easing';
	import Mesh from './components/Mesh.svelte'

	import { onMount } from "svelte";
	import { fly ,fade,slide} from "svelte/transition";

	let hw;
	let m;
	let v;
	let p;


	onMount(()=>{

		const delay = 3000;
		setTimeout(()=>p=true,delay+500)
		hw.childNodes.forEach((element ,i) => {
			if(element.tagName=='path'){
			let len = element.getTotalLength()
			len++
			element.style=`stroke-dashoffset:${len};stroke-dasharray:${len};animation-delay:${i/8}s`
			element.classList.add('sketcher') 
			setTimeout(()=>{element.classList.add('filler')},delay) 
			}
			else if(element.tagName=='mask'){
				element.childNodes.forEach((em ,i) => {
					setTimeout(()=>{em.classList.add('filler')},delay) 
				})
			}
		});

	})
	let path = window.location.hash.substr(1) || "";
	function loader(){
		path = window.location.hash.substr(1);
	}
	$: console.log(path)
</script>
<svelte:window on:hashchange={loader} />
<svelte:head>
	<link href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400&family=Rajdhani:wght@300;400;500&display=swap" rel="stylesheet">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0">
</svelte:head>
<main>
	<Mesh />
	<svg viewBox="0 0 626 68" fill="none" xmlns="http://www.w3.org/2000/svg" id="hello" bind:this={hw}>
		<mask id="path-1-outside-1" maskUnits="userSpaceOnUse" x="0.160004" y="0.271973" width="625" height="68" fill="black" bind:this={m}>
		<rect fill="white" x="0.160004" y="0.271973" width="625" height="68"/>
		<path d="M6.904 65H4.12C3.48 65 3.16 64.616 3.16 63.848V4.42397C3.16 3.65597 3.48 3.27197 4.12 3.27197H6.904C7.608 3.27197 7.96 3.65597 7.96 4.42397V30.632C7.96 31.208 8.28 31.496 8.92 31.496H35.8C36.44 31.496 36.76 31.208 36.76 30.632V4.42397C36.76 3.65597 37.08 3.27197 37.72 3.27197H40.504C41.208 3.27197 41.56 3.65597 41.56 4.42397V63.848C41.56 64.616 41.208 65 40.504 65H37.72C37.08 65 36.76 64.616 36.76 63.848V36.68C36.76 36.104 36.44 35.816 35.8 35.816H8.92C8.28 35.816 7.96 36.104 7.96 36.68V63.848C7.96 64.616 7.608 65 6.904 65Z"/>
		<path d="M97.654 65H67.99C67.35 65 67.03 64.616 67.03 63.848V4.42397C67.03 3.65597 67.35 3.27197 67.99 3.27197H97.654C98.422 3.27197 98.806 3.62397 98.806 4.32797V6.53597C98.806 7.23997 98.422 7.59197 97.654 7.59197H72.79C72.15 7.59197 71.83 7.87997 71.83 8.45597V30.536C71.83 31.112 72.15 31.4 72.79 31.4H94.966C95.67 31.4 96.022 31.752 96.022 32.456V34.664C96.022 35.368 95.67 35.72 94.966 35.72H72.79C72.15 35.72 71.83 36.008 71.83 36.584V59.816C71.83 60.392 72.15 60.68 72.79 60.68H97.654C98.422 60.68 98.806 61.032 98.806 61.736V63.944C98.806 64.648 98.422 65 97.654 65Z"/>
		<path d="M153.857 65H123.329C122.689 65 122.369 64.616 122.369 63.848V4.42397C122.369 3.65597 122.689 3.27197 123.329 3.27197H126.113C126.817 3.27197 127.169 3.65597 127.169 4.42397V59.624C127.169 60.2 127.489 60.488 128.129 60.488H153.857C154.625 60.488 155.009 60.84 155.009 61.544V63.944C155.009 64.648 154.625 65 153.857 65Z"/>
		<path d="M206.289 65H175.761C175.121 65 174.801 64.616 174.801 63.848V4.42397C174.801 3.65597 175.121 3.27197 175.761 3.27197H178.545C179.249 3.27197 179.601 3.65597 179.601 4.42397V59.624C179.601 60.2 179.921 60.488 180.561 60.488H206.289C207.057 60.488 207.441 60.84 207.441 61.544V63.944C207.441 64.648 207.057 65 206.289 65Z"/>
		<path d="M240.098 60.68H251.042C253.986 60.68 256.226 59.88 257.762 58.28C259.362 56.616 260.162 54.248 260.162 51.176V17.096C260.162 14.024 259.362 11.688 257.762 10.088C256.226 8.42397 253.986 7.59197 251.042 7.59197H240.098C237.154 7.59197 234.914 8.42397 233.378 10.088C231.842 11.752 231.074 14.088 231.074 17.096V51.176C231.074 54.184 231.842 56.52 233.378 58.184C234.914 59.848 237.154 60.68 240.098 60.68ZM251.522 65H239.714C235.554 65 232.258 63.784 229.826 61.352C227.458 58.92 226.274 55.592 226.274 51.368V16.904C226.274 12.68 227.458 9.35197 229.826 6.91997C232.258 4.48797 235.554 3.27197 239.714 3.27197H251.522C255.682 3.27197 258.946 4.48797 261.314 6.91997C263.746 9.35197 264.962 12.68 264.962 16.904V51.368C264.962 55.592 263.746 58.92 261.314 61.352C258.946 63.784 255.682 65 251.522 65Z"/>
		<path d="M338.338 65H333.538C332.834 65 332.386 64.616 332.194 63.848L319.042 4.42397C318.85 3.65597 319.17 3.27197 320.002 3.27197H323.17C323.874 3.27197 324.29 3.65597 324.418 4.42397L335.842 59.528H336.322L350.914 4.32797C351.042 3.62397 351.458 3.27197 352.162 3.27197H355.81C356.578 3.27197 357.026 3.62397 357.154 4.32797L371.842 59.528H372.322L383.65 4.42397C383.778 3.65597 384.226 3.27197 384.994 3.27197H388.258C389.026 3.27197 389.314 3.65597 389.122 4.42397L375.97 63.848C375.842 64.616 375.426 65 374.722 65H369.826C369.122 65 368.674 64.616 368.482 63.848L354.274 9.70397H353.89L339.586 63.848C339.394 64.616 338.978 65 338.338 65Z"/>
		<path d="M422.333 60.68H433.277C436.221 60.68 438.461 59.88 439.997 58.28C441.597 56.616 442.397 54.248 442.397 51.176V17.096C442.397 14.024 441.597 11.688 439.997 10.088C438.461 8.42397 436.221 7.59197 433.277 7.59197H422.333C419.389 7.59197 417.149 8.42397 415.613 10.088C414.077 11.752 413.309 14.088 413.309 17.096V51.176C413.309 54.184 414.077 56.52 415.613 58.184C417.149 59.848 419.389 60.68 422.333 60.68ZM433.757 65H421.949C417.789 65 414.493 63.784 412.061 61.352C409.693 58.92 408.509 55.592 408.509 51.368V16.904C408.509 12.68 409.693 9.35197 412.061 6.91997C414.493 4.48797 417.789 3.27197 421.949 3.27197H433.757C437.917 3.27197 441.181 4.48797 443.549 6.91997C445.981 9.35197 447.197 12.68 447.197 16.904V51.368C447.197 55.592 445.981 58.92 443.549 61.352C441.181 63.784 437.917 65 433.757 65Z"/>
		<path d="M475.395 65H472.611C471.971 65 471.651 64.616 471.651 63.848V4.42397C471.651 3.65597 471.971 3.27197 472.611 3.27197H494.499C498.659 3.27197 501.955 4.48797 504.387 6.91997C506.819 9.35197 508.035 12.68 508.035 16.904V26.024C508.035 29.608 507.107 32.552 505.251 34.856C503.459 37.16 500.995 38.632 497.859 39.272V39.656L509.283 63.848C509.667 64.616 509.443 65 508.611 65H505.635C504.803 65 504.227 64.616 503.907 63.848L492.579 39.656H477.411C476.771 39.656 476.451 39.944 476.451 40.52V63.848C476.451 64.616 476.099 65 475.395 65ZM477.411 35.528H494.019C496.963 35.528 499.235 34.728 500.835 33.128C502.435 31.464 503.235 29.128 503.235 26.12V17.096C503.235 14.088 502.435 11.752 500.835 10.088C499.235 8.42397 496.963 7.59197 494.019 7.59197H477.411C476.771 7.59197 476.451 7.87997 476.451 8.45597V34.664C476.451 35.24 476.771 35.528 477.411 35.528Z"/>
		<path d="M563.541 65H533.013C532.373 65 532.053 64.616 532.053 63.848V4.42397C532.053 3.65597 532.373 3.27197 533.013 3.27197H535.797C536.501 3.27197 536.853 3.65597 536.853 4.42397V59.624C536.853 60.2 537.173 60.488 537.813 60.488H563.541C564.309 60.488 564.693 60.84 564.693 61.544V63.944C564.693 64.648 564.309 65 563.541 65Z"/>
		<path d="M590.245 60.68H608.677C611.621 60.68 613.861 59.88 615.397 58.28C616.997 56.616 617.797 54.248 617.797 51.176V17.096C617.797 14.024 616.997 11.688 615.397 10.088C613.861 8.42397 611.621 7.59197 608.677 7.59197H590.245C589.605 7.59197 589.285 7.87997 589.285 8.45597V59.816C589.285 60.392 589.605 60.68 590.245 60.68ZM584.485 63.848V4.42397C584.485 3.65597 584.805 3.27197 585.445 3.27197H609.157C613.317 3.27197 616.581 4.48797 618.949 6.91997C621.381 9.35197 622.597 12.68 622.597 16.904V51.368C622.597 55.592 621.381 58.92 618.949 61.352C616.581 63.784 613.317 65 609.157 65H585.445C584.805 65 584.485 64.616 584.485 63.848Z"/>
		</mask>
		<path d="M6.904 65H4.12C3.48 65 3.16 64.616 3.16 63.848V4.42397C3.16 3.65597 3.48 3.27197 4.12 3.27197H6.904C7.608 3.27197 7.96 3.65597 7.96 4.42397V30.632C7.96 31.208 8.28 31.496 8.92 31.496H35.8C36.44 31.496 36.76 31.208 36.76 30.632V4.42397C36.76 3.65597 37.08 3.27197 37.72 3.27197H40.504C41.208 3.27197 41.56 3.65597 41.56 4.42397V63.848C41.56 64.616 41.208 65 40.504 65H37.72C37.08 65 36.76 64.616 36.76 63.848V36.68C36.76 36.104 36.44 35.816 35.8 35.816H8.92C8.28 35.816 7.96 36.104 7.96 36.68V63.848C7.96 64.616 7.608 65 6.904 65Z" stroke="white" stroke-width="5" mask="url(#path-1-outside-1)"/>
		<path d="M97.654 65H67.99C67.35 65 67.03 64.616 67.03 63.848V4.42397C67.03 3.65597 67.35 3.27197 67.99 3.27197H97.654C98.422 3.27197 98.806 3.62397 98.806 4.32797V6.53597C98.806 7.23997 98.422 7.59197 97.654 7.59197H72.79C72.15 7.59197 71.83 7.87997 71.83 8.45597V30.536C71.83 31.112 72.15 31.4 72.79 31.4H94.966C95.67 31.4 96.022 31.752 96.022 32.456V34.664C96.022 35.368 95.67 35.72 94.966 35.72H72.79C72.15 35.72 71.83 36.008 71.83 36.584V59.816C71.83 60.392 72.15 60.68 72.79 60.68H97.654C98.422 60.68 98.806 61.032 98.806 61.736V63.944C98.806 64.648 98.422 65 97.654 65Z" stroke="white" stroke-width="5" mask="url(#path-1-outside-1)"/>
		<path d="M153.857 65H123.329C122.689 65 122.369 64.616 122.369 63.848V4.42397C122.369 3.65597 122.689 3.27197 123.329 3.27197H126.113C126.817 3.27197 127.169 3.65597 127.169 4.42397V59.624C127.169 60.2 127.489 60.488 128.129 60.488H153.857C154.625 60.488 155.009 60.84 155.009 61.544V63.944C155.009 64.648 154.625 65 153.857 65Z" stroke="white" stroke-width="5" mask="url(#path-1-outside-1)"/>
		<path d="M206.289 65H175.761C175.121 65 174.801 64.616 174.801 63.848V4.42397C174.801 3.65597 175.121 3.27197 175.761 3.27197H178.545C179.249 3.27197 179.601 3.65597 179.601 4.42397V59.624C179.601 60.2 179.921 60.488 180.561 60.488H206.289C207.057 60.488 207.441 60.84 207.441 61.544V63.944C207.441 64.648 207.057 65 206.289 65Z" stroke="white" stroke-width="5" mask="url(#path-1-outside-1)"/>
		<path d="M240.098 60.68H251.042C253.986 60.68 256.226 59.88 257.762 58.28C259.362 56.616 260.162 54.248 260.162 51.176V17.096C260.162 14.024 259.362 11.688 257.762 10.088C256.226 8.42397 253.986 7.59197 251.042 7.59197H240.098C237.154 7.59197 234.914 8.42397 233.378 10.088C231.842 11.752 231.074 14.088 231.074 17.096V51.176C231.074 54.184 231.842 56.52 233.378 58.184C234.914 59.848 237.154 60.68 240.098 60.68ZM251.522 65H239.714C235.554 65 232.258 63.784 229.826 61.352C227.458 58.92 226.274 55.592 226.274 51.368V16.904C226.274 12.68 227.458 9.35197 229.826 6.91997C232.258 4.48797 235.554 3.27197 239.714 3.27197H251.522C255.682 3.27197 258.946 4.48797 261.314 6.91997C263.746 9.35197 264.962 12.68 264.962 16.904V51.368C264.962 55.592 263.746 58.92 261.314 61.352C258.946 63.784 255.682 65 251.522 65Z" stroke="white" stroke-width="5" mask="url(#path-1-outside-1)"/>
		<path d="M338.338 65H333.538C332.834 65 332.386 64.616 332.194 63.848L319.042 4.42397C318.85 3.65597 319.17 3.27197 320.002 3.27197H323.17C323.874 3.27197 324.29 3.65597 324.418 4.42397L335.842 59.528H336.322L350.914 4.32797C351.042 3.62397 351.458 3.27197 352.162 3.27197H355.81C356.578 3.27197 357.026 3.62397 357.154 4.32797L371.842 59.528H372.322L383.65 4.42397C383.778 3.65597 384.226 3.27197 384.994 3.27197H388.258C389.026 3.27197 389.314 3.65597 389.122 4.42397L375.97 63.848C375.842 64.616 375.426 65 374.722 65H369.826C369.122 65 368.674 64.616 368.482 63.848L354.274 9.70397H353.89L339.586 63.848C339.394 64.616 338.978 65 338.338 65Z" stroke="white" stroke-width="5" mask="url(#path-1-outside-1)"/>
		<path d="M422.333 60.68H433.277C436.221 60.68 438.461 59.88 439.997 58.28C441.597 56.616 442.397 54.248 442.397 51.176V17.096C442.397 14.024 441.597 11.688 439.997 10.088C438.461 8.42397 436.221 7.59197 433.277 7.59197H422.333C419.389 7.59197 417.149 8.42397 415.613 10.088C414.077 11.752 413.309 14.088 413.309 17.096V51.176C413.309 54.184 414.077 56.52 415.613 58.184C417.149 59.848 419.389 60.68 422.333 60.68ZM433.757 65H421.949C417.789 65 414.493 63.784 412.061 61.352C409.693 58.92 408.509 55.592 408.509 51.368V16.904C408.509 12.68 409.693 9.35197 412.061 6.91997C414.493 4.48797 417.789 3.27197 421.949 3.27197H433.757C437.917 3.27197 441.181 4.48797 443.549 6.91997C445.981 9.35197 447.197 12.68 447.197 16.904V51.368C447.197 55.592 445.981 58.92 443.549 61.352C441.181 63.784 437.917 65 433.757 65Z" stroke="white" stroke-width="5" mask="url(#path-1-outside-1)"/>
		<path d="M475.395 65H472.611C471.971 65 471.651 64.616 471.651 63.848V4.42397C471.651 3.65597 471.971 3.27197 472.611 3.27197H494.499C498.659 3.27197 501.955 4.48797 504.387 6.91997C506.819 9.35197 508.035 12.68 508.035 16.904V26.024C508.035 29.608 507.107 32.552 505.251 34.856C503.459 37.16 500.995 38.632 497.859 39.272V39.656L509.283 63.848C509.667 64.616 509.443 65 508.611 65H505.635C504.803 65 504.227 64.616 503.907 63.848L492.579 39.656H477.411C476.771 39.656 476.451 39.944 476.451 40.52V63.848C476.451 64.616 476.099 65 475.395 65ZM477.411 35.528H494.019C496.963 35.528 499.235 34.728 500.835 33.128C502.435 31.464 503.235 29.128 503.235 26.12V17.096C503.235 14.088 502.435 11.752 500.835 10.088C499.235 8.42397 496.963 7.59197 494.019 7.59197H477.411C476.771 7.59197 476.451 7.87997 476.451 8.45597V34.664C476.451 35.24 476.771 35.528 477.411 35.528Z" stroke="white" stroke-width="5" mask="url(#path-1-outside-1)"/>
		<path d="M563.541 65H533.013C532.373 65 532.053 64.616 532.053 63.848V4.42397C532.053 3.65597 532.373 3.27197 533.013 3.27197H535.797C536.501 3.27197 536.853 3.65597 536.853 4.42397V59.624C536.853 60.2 537.173 60.488 537.813 60.488H563.541C564.309 60.488 564.693 60.84 564.693 61.544V63.944C564.693 64.648 564.309 65 563.541 65Z" stroke="white" stroke-width="5" mask="url(#path-1-outside-1)"/>
		<path d="M590.245 60.68H608.677C611.621 60.68 613.861 59.88 615.397 58.28C616.997 56.616 617.797 54.248 617.797 51.176V17.096C617.797 14.024 616.997 11.688 615.397 10.088C613.861 8.42397 611.621 7.59197 608.677 7.59197H590.245C589.605 7.59197 589.285 7.87997 589.285 8.45597V59.816C589.285 60.392 589.605 60.68 590.245 60.68ZM584.485 63.848V4.42397C584.485 3.65597 584.805 3.27197 585.445 3.27197H609.157C613.317 3.27197 616.581 4.48797 618.949 6.91997C621.381 9.35197 622.597 12.68 622.597 16.904V51.368C622.597 55.592 621.381 58.92 618.949 61.352C616.581 63.784 613.317 65 609.157 65H585.445C584.805 65 584.485 64.616 584.485 63.848Z" stroke="white" stroke-width="5" mask="url(#path-1-outside-1)"/>
	</svg>
	{#if p}
		<h1 in:slide={{duration:600}} >
			I am Aparimeya
		</h1>
	{/if}
	{#if p}

			<a href="#about" in:fly={{duration:700,x:-45}} > About </a>
			<a href="#projects" in:fly={{duration:700,y:45}} > Projects </a>
			<a href="#contact" in:fly={{duration:700,x:45}} > Contact </a>

	{/if}


</main> 
{#if path == "about" || path == "projects" || path == "contact"}
	<div transition:fade={{duration:400}} class="curtain"></div>
{/if}
{#if path == 'about'}
	<LeftPanel />
{:else if  path == 'projects'}
	<BottomPanel />
{:else if  path == 'contact'}
	<RightPanel />
{/if}

<style>
.curtain{
	background-color: rgba(0,0,0,.35);
	position: fixed;
	z-index: 2;
	width: 100vw;
	height:100vh;
	top:0px;
	opacity: 1;
	left:0px;
}
	main {
		color: white;
		height: 100vh;
		width: 100vw;
	}
	#hello,h1{
		width: 50%;
		left:50%;
		top:50%;
		transform: translate3d(-50%,-50%,0);
		position: absolute;
	}

	a{
		font-size: 2em;
		padding:5px;
		
		padding-left:calc(20px + .5em);
		padding-right:20px;
		color: white;
		font-family: 'Rajdhani', sans-serif;
		position: fixed;
		overflow: hidden;
		transition-duration: .4s;

		z-index: 1;
		letter-spacing: .5em;

				text-align: center;
				font-weight: 500;
		text-transform: uppercase;
		/* opacity: .7;
		transform-origin: left; */
	}
	a:nth-of-type(1){
		top:20px;
		left:20px;
	}
	a:nth-of-type(2){
	bottom:20px;
	left:50%;
	transform: translate3d(-50%,0,0);
	}
	a:nth-of-type(3){
		top:20px;
		right:20px;
	}
	a:hover{
		text-decoration: none;
		color: black;
		/* opacity: 1;
		transform: scale(1.1) */
	}

	a::before{
		content: '';
		top:0px;
		left:0px;
		position: absolute;
		z-index: -1;
		height:100%;
		width:100%;
		background-color: white;
		transition-duration: .4s;
	}
	a:nth-of-type(1)::before{
		transform: translate3d(-110% ,0px,0);
	}
	a:nth-of-type(2)::before{
		transform: translate3d(0px,110%,0);
	}
	a:nth-of-type(3)::before{
		transform: translate3d(110% ,0px,0);
	}
	a:nth-of-type(n):hover::before{
		transform: translate3d(0px,0px,0);
	}
	:global(.sketcher){
		animation: draw 2.5s ease-in-out forwards;
	}
	:global(.filler){
		transition-duration: 1s;
		fill:  white !important;
	}
	@keyframes -global-draw {
		to {
			stroke-dashoffset: 0;
			stroke:rgba(255, 255, 255,1);
		}
	}
	@keyframes -global-fillex {
		to {
			fill: white;
		}
	}
	h1{

		padding-left: 1vw;
		padding-top: 4px;
		padding-bottom: 4px;
		top:calc(50% + 100px);
		text-align: center;
		font-weight: 400;
		font-size: 2.5em;
		font-family: 'Rajdhani', sans-serif;

	    letter-spacing: 1vw;
		font-weight: 500;
		color:black;
		background-color: white;
		text-transform: uppercase;
	}
    @media only screen and (max-width: 1100px) {
		#hello,h1{	width:60%}
		h1{font-size: 2.3em;}
	}
	@media only screen and (max-width: 850px) {
		#hello,h1{	width:75%}
		h1{font-size: 2.1em;		top:calc(50% + 90px);}
		a{font-size: 1.8em;}
	}
	@media only screen and (max-width: 550px) {
		a{letter-spacing: 5px;		padding:0px;
		
		padding-left:15px;
		padding-right:10px;}
				#hello,h1{	width:85%}
				h1{font-size: 1.9em;	top:calc(50% + 80px);}
	}
</style>

